import React from "react";
import { Link } from "react-router-dom";
import Menubar from "./Menubar";
import Searchbar from "./Searchbar";
import Cart from "../pages/Cart";
import "../styles/Navbar.scss";

const Navbar: React.FC = () => {
  const [open, setOpen] = React.useState<boolean>(false);
  const isMobile: boolean = window.innerWidth <= 768;
  const cartItemNumber = (): number => {
    if (Cart.length > 0) return Cart.length; else return 0;
  }

  const cartContent: number = cartItemNumber();
  const handleMenuClick = (e: React.MouseEvent<HTMLDivElement, MouseEvent>) => {
    e.preventDefault();
    e.stopPropagation();
    // Toggle the open state
    if (!open) setOpen(true);
    else setOpen(false);
  };
  return (
    <div>
      {isMobile ? (
        <>
          <div className="nav-mobile">
            <img src="/nav-logo.png" alt="Logo" className="logo-mobile" />
            <div className="nav-icons">
              <div className="search-icon-mobile">
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  viewBox="0 0 30 30"
                  fill="#000000"
                  id="Magnifying-Glass--Streamline-Phosphor"
                  height="30"
                  width="30"
                >
                  <desc>
                    Magnifying Glass Streamline Icon: https://streamlinehq.com
                  </desc>
                  <path
                    d="m23.495184375 22.2165375 -5.655628125 -5.65449375c4.90333125 -5.886759375 1.5953062500000001 -14.874 -5.954446875 -16.17703125C4.335365625 -0.918009375 -1.7938031250000002 6.4404375 0.85261875 13.630228125000002c2.3755875 6.454012499999999 10.425093749999998 8.6108625 15.709425000000001 4.209328125000001l5.65449375 5.655628125c0.49215 0.49215 1.332515625 0.266971875 1.51265625 -0.40530937499999997 0.08360625000000001 -0.31201875 -0.005596875 -0.644925 -0.23400937500000002 -0.8733375ZM2.07225 10.204968749999999c0 -6.260568749999999 6.777262500000001 -10.17343125 12.199078125 -7.0431375 5.4218062499999995 3.1302843749999996 5.4218062499999995 10.955990625 0 14.086275 -1.2362250000000001 0.7137375 -2.63889375 1.089515625 -4.066359374999999 1.08958125 -4.489509375 -0.0049875 -8.127740625 -3.643209375 -8.132718749999999 -8.132718749999999Z"
                    strokeWidth="0.0938"
                  ></path>
                </svg>
              </div>
              <svg
                xmlns="http://www.w3.org/2000/svg"
                fill="none"
                viewBox="0 0 30 30"
                id="Shopping-Bag-Check--Streamline-Ultimate"
                height="30"
                width="30"
              >
                <desc>
                  Shopping Bag Check Streamline Icon: https://streamlinehq.com
                </desc>
                <path
                  stroke="#000000"
                  strokeLinecap="round"
                  strokeLinejoin="round"
                  d="M19.049 6.75019H4.93604c-0.3389 -0.01382 -0.67129 0.09586 -0.93541 0.30866 -0.26412 0.2128 -0.442 0.51426 -0.50059 0.84834l-2 13.91501c-0.01036 0.191 0.01979 0.3821 0.08846 0.5606 0.06868 0.1786 0.17433 0.3406 0.31002 0.4754 0.1357 0.1349 0.29837 0.2395 0.47735 0.307 0.17898 0.0676 0.37022 0.0965 0.56117 0.085H21.048c0.1909 0.0116 0.3821 -0.0174 0.5611 -0.0849 0.1789 -0.0676 0.3415 -0.1723 0.4771 -0.3071 0.1357 -0.1349 0.2412 -0.2969 0.3098 -0.4755 0.0685 -0.1785 0.0985 -0.3695 0.088 -0.5605l-2 -13.91501c-0.0585 -0.33391 -0.2363 -0.63522 -0.5002 -0.848 -0.2639 -0.21278 -0.596 -0.32258 -0.9348 -0.309Z"
                  strokeWidth="1.5"
                ></path>
                <path
                  stroke="#000000"
                  strokeLinecap="round"
                  strokeLinejoin="round"
                  d="M15.662 3.807c-0.1642 -0.85808 -0.6218 -1.63231 -1.2943 -2.19003 -0.6725 -0.55773 -1.518 -0.864224 -2.3917 -0.86697 -0.8693 0.003813 -1.7105 0.30852 -2.38064 0.86234 -0.67013 0.55382 -1.12782 1.32259 -1.29531 2.17566"
                  strokeWidth="1.5"
                ></path>
                <path
                  stroke="#000000"
                  strokeLinecap="round"
                  strokeLinejoin="round"
                  d="m14.6529 13.5 -3.52 4.693 -2.14096 -2.14"
                  strokeWidth="1.5"
                ></path>
              </svg>
              <div onClick={(e) => handleMenuClick(e)}>
                {open ? (
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    fill="none"
                    viewBox="-0.855 -0.855 24 24"
                    id="Delete-1--Streamline-Core"
                    height="24"
                    width="24"
                  >
                    <desc>
                      Delete 1 Streamline Icon: https://streamlinehq.com
                    </desc>
                    <g id="delete-1--remove-add-button-buttons-delete-cross-x-mathematics-multiply-math">
                      <path
                        id="Vector"
                        stroke="#000000"
                        strokeLinecap="round"
                        strokeLinejoin="round"
                        d="m21.49392857142857 0.7960714285714285 -20.697857142857142 20.697857142857142"
                        strokeWidth="1.71"
                      ></path>
                      <path
                        id="Vector_2"
                        stroke="#000000"
                        strokeLinecap="round"
                        strokeLinejoin="round"
                        d="m0.7960714285714285 0.7960714285714285 20.697857142857142 20.697857142857142"
                        strokeWidth="1.71"
                      ></path>
                    </g>
                  </svg>
                ) : (
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    viewBox="0 0 24 24"
                    fill="#000000"
                    id="List--Streamline-Phosphor"
                    height="24"
                    width="24"
                  >
                    <desc>List Streamline Icon: https://streamlinehq.com</desc>
                    <path
                      d="M23.759999999999998 12c0 0.54121875 -0.438778125 0.9799781249999999 -0.9799968750000001 0.9799968750000001H1.2199968749999999c-0.7543968750000001 0.0000375 -1.22589375 -0.816609375 -0.848728125 -1.4699625 0.175059375 -0.303234375 0.49859999999999993 -0.49003125000000003 0.848728125 -0.49003125000000003h21.56000625c0.54121875 0.00001875 0.9799968750000001 0.438778125 0.9799968750000001 0.9799968750000001ZM1.2199968749999999 5.140003125h21.56000625c0.7543968750000001 -0.0000375 1.2259125 -0.816721875 0.84868125 -1.4700375 -0.17506875 -0.30319687500000003 -0.49858125 -0.489965625 -0.84868125 -0.489965625H1.2199968749999999c-0.7543968750000001 0 -1.2259031249999999 0.816665625 -0.8487 1.47 0.175059375 0.303215625 0.49858125 0.490003125 0.8487 0.490003125Zm21.56000625 13.71999375H1.2199968749999999c-0.7543968750000001 0 -1.2259031249999999 0.816665625 -0.8487 1.47 0.175059375 0.303215625 0.49858125 0.490003125 0.8487 0.490003125h21.56000625c0.7543968750000001 -0.0000375 1.2259125 -0.816721875 0.84868125 -1.4700375 -0.17506875 -0.3031875 -0.49858125 -0.489965625 -0.84868125 -0.489965625Z"
                      strokeWidth="0.0938"
                    ></path>
                  </svg>
                )}
              </div>
            </div>
          </div>
          <div className="menu">{open && <Menubar />}</div>
        </>
      ) : (
        <div className="nav">
          <img src="/nav-logo.png" alt="Logo" className="logo" />
          <div className="search-icon">
            <Searchbar />
          </div>
          <div className="nav-links">
            <Link to="/" className="nav-link">
              Home
            </Link>
            <Link to="/shop" className="nav-link">
              Shop
            </Link>
            <Link to="/contact" className="nav-link">
              Contact
            </Link>
            <div className="nav-icons">
              <Link to={"/signin"}>
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  viewBox="0 0 32 32"
                  fill="#000000"
                  id="User-Circle-Gear--Streamline-Phosphor"
                  height="32"
                  width="32"
                  onClick={(e) => {
                    e.preventDefault();
                    e.stopPropagation();
                    window.location.href = "/signin";
                  }}
                >
                  <desc>
                    User Circle Gear Streamline Icon: https://streamlinehq.com
                  </desc>
                  <path
                    d="m30.8100125 6.6958375 -0.6898375 -0.3982125c0.080925 -0.428475 0.080925 -0.8683125 0 -1.296775l0.6898375 -0.3982125c0.789725 -0.4558375 0.78985 -1.595625 0.000225 -2.051625 -0.3664625 -0.2116375 -0.8179875 -0.2116875 -1.1845 -0.0001375l-0.6913125 0.3997c-0.33085 -0.28385 -0.7112625 -0.5041625 -1.1221 -0.649875v-0.796425c-0.0009375 -0.91165 -0.988425 -1.480425 -1.777475 -1.0237875 -0.3654375 0.2114875 -0.59065 0.60155 -0.591075 1.0237875v0.796425c-0.41085 0.1457125 -0.7912625 0.366025 -1.1221 0.649875l-0.691325 -0.3997c-0.789725 -0.455825 -1.77675 0.114175 -1.7766375 1.0260125 0.0000375 0.4231875 0.22585 0.8141875 0.5923625 1.02575l0.6898375 0.3982125c-0.080925 0.4284625 -0.080925 0.8683 0 1.296775l-0.6898375 0.3982125c-0.789725 0.455475 -0.7902375 1.5950375 -0.000925 2.051225 0.1802875 0.1041875 0.3848375 0.1590125 0.5930625 0.158925 0.2079375 0.00065 0.4123 -0.054025 0.5921375 -0.1584l0.691325 -0.3996875c0.3308375 0.28385 0.71125 0.5041625 1.1221 0.649875v0.796425c0.0009375 0.91165 0.9884125 1.480425 1.7774625 1.0237875 0.36545 -0.2115 0.59065 -0.6015625 0.5910875 -1.0237875v-0.796425c0.4108375 -0.1457125 0.79125 -0.366025 1.1221 -0.649875l0.6913125 0.3996875c0.1798375 0.104375 0.3842 0.15905 0.5921375 0.1584 0.9116625 0.0003625 1.481825 -0.9863125 1.0263 -1.7760125 -0.1040375 -0.1803625 -0.2537875 -0.3301125 -0.4341625 -0.4341375Zm-5.3662375 -1.0466c0 -0.9116625 0.9868875 -1.4814375 1.7764125 -1.0256125 0.7895125 0.455825 0.7895125 1.5954 0 2.051225 -0.180025 0.103925 -0.384275 0.15865 -0.5921375 0.1586625 -0.6540875 0.000025 -1.184275 -0.5302 -1.184275 -1.184275Zm4.3448 7.121925c-0.64505 0.10795 -1.080475 0.7183375 -0.9725875 1.3634 0.12025 0.7181375 0.1806625 1.4450125 0.1806125 2.1731375 0.0028 3.18895 -1.16925 6.267175 -3.2922875 8.6466875 -1.3208125 -1.9139625 -3.178025 -3.3947 -5.3381125 -4.2559875 4.2971 -3.3845125 3.31895 -10.1516 -1.7606875 -12.18075 -5.0796375 -2.0291375 -10.451025 2.2015 -9.6685 7.615175 0.2607 1.8035625 1.2043625 3.438025 2.63595 4.565575 -2.1601 0.8612875 -4.0173125 2.342025 -5.338125 4.2559875C-0.4213875 17.45375 3.53815 5.560275 13.3620125 3.5461375c0.85805 -0.1759125 1.7316625 -0.26485 2.6075625 -0.26545 0.7281375 -0.0001125 1.4550125 0.0602875 2.17315 0.1806 0.9005125 0.1420375 1.6171 -0.7440375 1.28985 -1.5949375 -0.14905 -0.3875375 -0.490175 -0.6687125 -0.89905 -0.7410375 -11.6783 -1.964625 -21.1039875 9.449625 -16.96625 20.5456375 4.13775 11.0960125 18.7356125 13.551775 26.276175 4.420375 2.841625 -3.441125 4.048875 -7.94665 3.308525 -12.347575 -0.10795 -0.64505 -0.7183375 -1.080475 -1.3634 -0.9725875ZM11.232475 15.123425c0 -3.6466125 3.9475875 -5.92575 7.10565 -4.1024375 3.1580625 1.8233 3.1580625 6.381575 0 8.2048875 -0.720075 0.4157375 -1.5370875 0.6346125 -2.36855 0.63465 -2.6163125 0.000125 -4.7371 -2.1207875 -4.7371 -4.7371Zm-3.2449125 11.4726625c3.726 -5.8273125 12.238025 -5.8273125 15.964025 0 -4.694975 3.651375 -11.26905 3.651375 -15.964025 0Z"
                    strokeWidth="0.125"
                  ></path>
                </svg>
              </Link>
              <Link to={"/cart"}>
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  fill="none"
                  viewBox="-1.145 -1.145 32 32"
                  id="Shopping-Bag-Hand-Bag-2--Streamline-Core"
                  height="32"
                  width="32"
                  onClick={(e) => {
                    e.preventDefault();
                    e.stopPropagation();
                    window.location.href = "/cart";
                  }}
                >
                  <desc>
                    Shopping Bag Hand Bag 2 Streamline Icon:
                    https://streamlinehq.com
                  </desc>
                  <g id="shopping-bag-hand-bag-2--shopping-bag-purse-goods-item-products">
                    <path
                      id="Vector"
                      stroke="#000000"
                      strokeLinecap="round"
                      strokeLinejoin="round"
                      d="M27.333199999999998 26.293349999999997c0.03352985714285714 0.29773664285714285 0.0033954285714285714 0.5990809285714285 -0.08806892857142856 0.8845091428571428 -0.09146435714285713 0.28521599999999997 -0.24213649999999995 0.5479372857142856 -0.44246678571428566 0.7707622857142856 -0.20075471428571426 0.22240057142857142 -0.4464988571428571 0.40002392857142854 -0.7206797142857142 0.5205616428571428 -0.2743930714285714 0.12074992857142855 -0.571280857142857 0.18207985714285713 -0.8709274285714285 0.17974549999999997H4.498964078571428c-0.2997102357142857 0.002334357142857143 -0.5964919142857142 -0.05899557142857142 -0.8708213214285713 -0.17974549999999997 -0.2743294071428571 -0.12053771428571428 -0.5199886642857142 -0.2981610714285714 -0.7207858214285714 -0.5205616428571428 -0.2002666214285714 -0.22282499999999997 -0.3510660928571428 -0.48554628571428565 -0.44250922857142855 -0.7707622857142856 -0.09144313571428571 -0.28542821428571424 -0.1214502357142857 -0.5867725 -0.08802648571428572 -0.8845091428571428l1.867485714285714 -16.74370714285714H25.465714285714284l1.867485714285714 16.74370714285714Z"
                      strokeWidth="2.29"
                    ></path>
                    <path
                      id="Vector_2"
                      stroke="#000000"
                      strokeLinecap="round"
                      strokeLinejoin="round"
                      d="M9.549642857142857 9.549642857142857V6.366428571428571c0 -1.4070655999999997 0.5589512071428571 -2.7565150214285707 1.5538966642857142 -3.751460478571428C12.098484978571426 1.6200268799999997 13.4479344 1.0610714285714284 14.854999999999999 1.0610714285714284c1.4070655999999997 0 2.7565150214285707 0.5589554514285714 3.751460478571428 1.5538966642857142C19.601405935714286 3.60991355 20.16035714285714 4.959362971428571 20.16035714285714 6.366428571428571v3.1832142857142856"
                      strokeWidth="2.29"
                    ></path>
                  </g>
                </svg>
                {cartContent > 0 && (<span>{cartContent}</span>)}
              </Link>
            </div>
          </div>
        </div>
      )}
    </div>
  );
};

export default Navbar;
